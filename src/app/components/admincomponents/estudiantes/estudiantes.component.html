
<div class="container">
  <h2>Lista de Estudiantes</h2>

  <div class="form-group">
    <label for="sortSelect">Ordenar por:</label>
    <select class="form-control" id="sortSelect" [(ngModel)]="sortBy" (change)="changeSortBy(sortBy)">
      <option value="nombre">Nombre (A-Z)</option>
      <option value="edad">Edad (menor a mayor)</option>
      <option value="genero">Género</option> 
    </select>
  </div>

  <div class="table-responsive">
    <table class="table table-striped">
      <!-- encabezados de la tabla -->
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Apellidos</th>
          <th>Matricula</th>
          <th>Edad</th>
          <th>Sexo</th>
          <th>Email</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <!-- filas de la tabla -->
      <tbody>
        <tr *ngFor="let estudiante of getStudentsForCurrentPage()">
          <td>{{ estudiante.id }}</td>
          <td>{{ estudiante.name }}</td>
          <td>{{estudiante.lastname}}</td>
          <td>{{estudiante.mat}}</td>
          <td>{{ estudiante.edad }}</td>
          <td>{{estudiante.sexo}}</td>
          <td>{{ estudiante.email }}</td>
          <td>
            <!-- Botón para modificar -->
            <button type="button" class="btn btn-primary btn-sm" (click)="modificarEstudiante(estudiante)">
              <i class="bi bi-pencil"></i> Modificar
            </button>
            <!-- Botón para eliminar -->
            <button type="button" class="btn btn-danger btn-sm" (click)="eliminarEstudiante(estudiante)">
              <i class="bi bi-trash"></i> Eliminar
            </button>
          </td>
        </tr> 
      </tbody>
    </table>
  </div>

  <!-- Agregar los controles de paginación con el diseño proporcionado -->
  <ul class="pagination justify-content-center">
    <li class="page-item" [class.disabled]="currentPage === 1">
      <a class="page-link" (click)="setPage(1)" aria-label="Primera">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    <li class="page-item" [class.disabled]="currentPage === 1">
      <a class="page-link" (click)="setPage(currentPage - 1)" aria-label="Anterior">
        <span aria-hidden="true">&lsaquo;</span>
      </a>
    </li>
    <li class="page-item" *ngFor="let pageNum of getPagesArray()" [class.active]="pageNum === currentPage">
      <a class="page-link" (click)="setPage(pageNum)">{{ pageNum }}</a>
    </li>
    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <a class="page-link" (click)="setPage(currentPage + 1)" aria-label="Siguiente">
        <span aria-hidden="true">&rsaquo;</span>
      </a>
    </li>
    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <a class="page-link" (click)="setPage(totalPages)" aria-label="Última">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</div>